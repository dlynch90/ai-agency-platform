[project]
name = "unified-ai-agency-toolchain"
version = "1.0.0"
description = "Unified Pixi toolchain for AI agency development - package manager, runtime manager, and tool chain"
authors = ["AI Agency Development Team"]
channels = ["conda-forge", "pytorch", "nvidia"]
platforms = ["osx-arm64", "linux-64", "win-64"]

[system-requirements]
macos = "11.0"
linux = "20.04"
windows = "10"

[dependencies]
# Core Python ecosystem
python = "3.12.*"
pip = "*"
setuptools = "*"
wheel = "*"

# AI/ML Frameworks
torch = { version = ">=2.0.0", channel = "pytorch" }
torchvision = { version = "*", channel = "pytorch" }
torchaudio = { version = "*", channel = "pytorch" }
transformers = "*"
datasets = "*"
accelerate = "*"
huggingface-hub = "*"
diffusers = "*"
sentence-transformers = "*"

# Data Science & Analysis
numpy = "*"
pandas = "*"
scikit-learn = "*"
matplotlib = "*"
seaborn = "*"
plotly = "*"
jupyter = "*"
notebook = "*"
ipykernel = "*"

# Graph & Vector Databases
neo4j-python-driver = "*"
qdrant-client = "*"
chromadb = "*"
weaviate-client = "*"
pinecone-client = "*"
faiss-cpu = "*"
annoy = "*"

# API & Web Frameworks
fastapi = "*"
uvicorn = { extras = ["standard"], version = "*" }
graphql-core = "*"
strawberry-graphql = { extras = ["fastapi"], version = "*" }
prisma = "*"
pydantic = "*"
requests = "*"
httpx = "*"
aiohttp = "*"

# Database ORMs & Clients
psycopg2-binary = "*"
pymongo = "*"
redis = "*"
sqlalchemy = "*"
alembic = "*"

# CLI Tools & Utilities
click = "*"
typer = "*"
rich = "*"
tqdm = "*"
pyyaml = "*"
toml = "*"
python-dotenv = "*"

# Development Tools
black = "*"
ruff = "*"
mypy = "*"
pre-commit = "*"
pytest = "*"
pytest-cov = "*"
pytest-benchmark = "*"

# MCP Server Dependencies
anthropic = "*"
openai = "*"
google-generativeai = "*"
cohere = "*"

# Cloud SDKs
boto3 = "*"
google-cloud-storage = "*"
azure-storage-blob = "*"
firebase-admin = "*"

# Container & Orchestration
docker-py = "*"
kubernetes = "*"
helm = "*"

# Monitoring & Observability
prometheus-client = "*"
grafana-api = "*"
datadog = "*"
newrelic = "*"

# Security & Authentication
cryptography = "*"
bcrypt = "*"
pyjwt = "*"
oauthlib = "*"
authlib = "*"

[feature.python-dev.dependencies]
# Additional Python development tools
debugpy = "*"
line-profiler = "*"
memory-profiler = "*"
pytest-xdist = "*"
hypothesis = "*"

[feature.data-science.dependencies]
# Advanced data science libraries
xgboost = "*"
lightgbm = "*"
catboost = "*"
optuna = "*"
mlflow = "*"
dvc = "*"

[feature.web-dev.dependencies]
# Web development stack
django = "*"
flask = "*"
starlette = "*"
jinja2 = "*"
fastapi-users = { extras = ["sqlalchemy"], version = "*" }

[feature.ai-ml.dependencies]
# Advanced AI/ML libraries
langchain = "*"
langchain-community = "*"
langchain-openai = "*"
langchain-anthropic = "*"
langchain-google-genai = "*"
llama-index = "*"
llama-index-llms-openai = "*"
llama-index-llms-anthropic = "*"
vllm = "*"
ray = { version = ">=2.0.0", channel = "conda-forge" }

[feature.mcp-servers.dependencies]
# MCP server specific dependencies
mcp = "*"
anthropic = { version = ">=0.30.0" }
openai = { version = ">=1.0.0" }
google-generativeai = { version = ">=0.8.0" }

[feature.database.dependencies]
# Database management tools
psycopg2-binary = "*"
pymongo = "*"
redis = "*"
cassandra-driver = "*"
clickhouse-driver = "*"

[feature.devops.dependencies]
# DevOps and infrastructure tools
ansible = "*"
terraform = "*"
pulumi = "*"
awscli = "*"
az-cli = "*"
gcloud = "*"

[feature.monitoring.dependencies]
# Advanced monitoring stack
prometheus = "*"
grafana = "*"
loki = "*"
tempo = "*"
opentelemetry-distro = "*"
opentelemetry-instrumentation = "*"

[environments]
default = { features = ["python-dev"], solve-group = "default" }
data-science = { features = ["python-dev", "data-science"], solve-group = "data-science" }
web-dev = { features = ["python-dev", "web-dev"], solve-group = "web-dev" }
ai-ml = { features = ["python-dev", "ai-ml"], solve-group = "ai-ml" }
mcp = { features = ["python-dev", "mcp-servers"], solve-group = "mcp" }
database = { features = ["python-dev", "database"], solve-group = "database" }
devops = { features = ["python-dev", "devops"], solve-group = "devops" }
monitoring = { features = ["python-dev", "monitoring"], solve-group = "monitoring" }
full-stack = { features = ["python-dev", "data-science", "web-dev", "ai-ml", "mcp-servers", "database", "devops", "monitoring"], solve-group = "full-stack" }

[activation.env]
# Environment variables for the unified toolchain
DEVELOPER_DIR = "${DEVELOPER_DIR:-$HOME/Developer}"
USER_HOME = "${USER_HOME:-$HOME}"
CONFIG_DIR = "${CONFIG_DIR:-$HOME/.config}"
MCP_CONFIG_DIR = "${MCP_CONFIG_DIR:-$HOME/.cursor/mcp}"
NEO4J_URI = "${NEO4J_URI:-bolt://localhost:7687}"
POSTGRES_URL = "${POSTGRES_URL:-postgresql://postgres:password@localhost:5432/ecommerce}"
REDIS_URL = "${REDIS_URL:-redis://localhost:6379}"

[activation.scripts]
# Activation scripts for unified toolchain
post-install = """
echo 'ðŸ”§ Unified AI Agency Toolchain Activated'
echo 'Package Manager: Pixi'
echo 'Runtime Manager: Pixi Environments'
echo 'Tool Chain: Integrated CLI Tools'
echo ''
echo 'Available environments:'
echo '  pixi run --environment default python --version'
echo '  pixi run --environment ai-ml python -c "import transformers"'
echo '  pixi run --environment web-dev uvicorn main:app --reload'
echo '  pixi run --environment mcp python mcp_server.py'
echo ''
echo 'Environment variables set for:'
echo '  DEVELOPER_DIR, USER_HOME, CONFIG_DIR'
echo '  NEO4J_URI, POSTGRES_URL, REDIS_URL'
"""

[tool.pixi.scripts]
# Custom scripts for the unified toolchain
install-all = "pixi install --environment full-stack"
update-all = "pixi update --environment full-stack"
test-all = "pixi run --environment full-stack pytest"
lint-all = "pixi run --environment full-stack ruff check . && pixi run --environment full-stack mypy ."
format-all = "pixi run --environment full-stack black . && pixi run --environment full-stack ruff check --fix ."
mcp-servers = "pixi run --environment mcp python -m mcp.server"
ai-agents = "pixi run --environment ai-ml python ai_agent.py"
web-server = "pixi run --environment web-dev uvicorn app.main:app --reload"
database-migrate = "pixi run --environment database alembic upgrade head"
monitoring-start = "pixi run --environment monitoring prometheus --config.file=prometheus.yml"

[tool.black]
line-length = 100
target-version = ['py312']

[tool.ruff]
line-length = 100
target-version = "py312"

[tool.ruff.lint]
select = [
    "E",  # pycodestyle errors
    "W",  # pycodestyle warnings
    "F",  # pyflakes
    "I",  # isort
    "B",  # flake8-bugbear
    "C4", # flake8-comprehensions
    "UP", # pyupgrade
]

[tool.ruff.lint.per-file-ignores]
"__init__.py" = ["F401"]
"tests/**/*" = ["B011"]

[tool.mypy]
python_version = "3.12"
warn_return_any = true
warn_unused_configs = true
disallow_untyped_defs = true
disallow_incomplete_defs = true
check_untyped_defs = true
disallow_untyped_decorators = true
no_implicit_optional = true
warn_redundant_casts = true
warn_unused_ignores = true
warn_no_return = true
warn_unreachable = true
strict_equality = true

[tool.pytest.ini_options]
minversion = "6.0"
addopts = "-ra -q --cov=src --cov-report=html --cov-report=term"
testpaths = ["tests"]
python_files = ["test_*.py"]
python_classes = ["Test*"]
python_functions = ["test_*"]

[tool.coverage.run]
source = ["src"]
omit = ["*/tests/*", "*/test_*.py"]

[tool.coverage.report]
exclude_lines = [
    "pragma: no cover",
    "def __repr__",
    "raise AssertionError",
    "raise NotImplementedError",
]