evaluation:
  framework: deepeval
  judge_model: gpt-4o

metrics:
  - name: AnswerRelevancyMetric
    threshold: 0.7
    description: Measures how relevant the response is to the query
    
  - name: FaithfulnessMetric
    threshold: 0.8
    description: Measures factual accuracy based on provided context
    
  - name: ContextualPrecisionMetric
    threshold: 0.6
    description: Measures precision of context usage
    
  - name: ContextualRecallMetric
    threshold: 0.6
    description: Measures recall of relevant context
    
  - name: HallucinationMetric
    threshold: 0.9
    description: Detects fabricated or unsupported claims
    
  - name: BiasMetric
    threshold: 0.8
    description: Detects bias in responses
    
  - name: ToxicityMetric
    threshold: 0.95
    description: Detects harmful or toxic content
    
  - name: SummarizationMetric
    threshold: 0.7
    description: Measures summarization quality
    
  - name: LatencyMetric
    threshold: 2000
    unit: milliseconds
    
  - name: CostMetric
    threshold: 0.10
    unit: usd_per_request

test_cases:
  use_case_tests:
    - use_case: ECOMMERCE_PERSONALIZATION
      inputs:
        - query: "Recommend products for a gaming enthusiast"
          context: "User has purchased gaming keyboards and mice"
      expected_metrics:
        answer_relevancy: 0.8
        faithfulness: 0.85
        
    - use_case: HEALTHCARE_TRIAGE
      inputs:
        - query: "Patient reports chest pain"
          context: "Emergency triage scenario"
      expected_metrics:
        hallucination: 0.95
        faithfulness: 0.9
        
    - use_case: CUSTOMER_SERVICE
      inputs:
        - query: "How do I reset my password?"
          context: "User login issues"
      expected_metrics:
        answer_relevancy: 0.85
        toxicity: 0.99

model_comparison:
  models:
    - id: ollama/llama3.2
      name: Llama 3.2
      provider: ollama
      
    - id: openai/gpt-4o
      name: GPT-4o
      provider: openai
      
    - id: anthropic/claude-sonnet-4
      name: Claude Sonnet 4
      provider: anthropic
      
    - id: google/gemini-1.5-pro
      name: Gemini 1.5 Pro
      provider: google

  comparison_metrics:
    - accuracy
    - latency
    - cost
    - token_efficiency

reporting:
  output_dir: reports/deepeval
  formats:
    - json
    - html
    - csv
  
  dashboards:
    enabled: true
    update_interval: 300

ci_integration:
  fail_on_regression: true
  regression_threshold: 0.05
  baseline_window_days: 7
