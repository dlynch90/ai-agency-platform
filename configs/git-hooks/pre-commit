#!/bin/bash
echo 'Pre-commit hook - Vendor: Lefthook/Git Community'
echo 'Running Java pre-commit checks...'

# Run tests (TDD compliance)
if command -v mvn >/dev/null 2>&1; then
    echo 'Running Maven tests...'
    mvn test -q -Dmaven.test.failure.ignore=false || exit 1
fi

# Check code style (if configured)
if [ -f 'checkstyle.xml' ] && command -v checkstyle >/dev/null 2>&1; then
    echo 'Running Checkstyle...'
    find src -name '*.java' -exec checkstyle -c checkstyle.xml {} \; || exit 1
fi

echo 'âœ… All pre-commit checks passed!'

