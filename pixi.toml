[workspace]
authors = ["AI Assistant <ai@assistant.local>"]
channels = ["conda-forge", "pytorch"]
name = "Developer"
platforms = ["osx-arm64"]
version = "0.1.0"

[tasks]
start-services = "docker compose -f infra/docker-compose.yml up -d"
stop-services = "docker compose -f infra/docker-compose.yml down"
health-check = "docker compose -f infra/docker-compose.yml ps"
audit = "python scripts/final_audit_deduplication.py"

[dependencies]
python = "3.12.*"
pip = "*"

[feature.ml.dependencies]
pytorch = { version = ">=2.0", channel = "pytorch" }
torchvision = { version = "*", channel = "pytorch" }
transformers = "*"
datasets = "*"
accelerate = "*"
scikit-learn = "*"
optuna = "*"
mlflow = "*"
dask = "*"
catboost = "*"
xgboost = "*"
lightgbm = "*"
pandas = "*"
numpy = "*"
matplotlib = "*"
seaborn = "*"
plotly = "*"
jupyter = "*"
ipykernel = "*"
notebook = "*"

[feature.api.dependencies]
fastapi = "*"
uvicorn = "*"
pydantic = "*"
httpx = "*"
aiohttp = "*"
requests = "*"

[feature.database.dependencies]
psycopg2 = "*"
redis-py = "*"
pymongo = "*"
sqlalchemy = "*"

[feature.orchestration.dependencies]
celery = "*"
kombu = "*"

[feature.langchain.dependencies]
langchain = "*"
langchain-community = "*"
langgraph = "*"
tiktoken = "*"
chromadb = "*"
sentence-transformers = "*"

[environments]
default = { features = [], solve-group = "default" }
ml = { features = ["ml"], solve-group = "ml" }
api = { features = ["api"], solve-group = "api" }
database = { features = ["database"], solve-group = "database" }
full = { features = ["ml", "api", "database", "orchestration", "langchain"], solve-group = "full" }
