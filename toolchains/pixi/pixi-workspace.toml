# Pixi Workspace Configuration for Polyglot Development Environment
# Multi-language development environment with machine learning and gap analysis

[workspace]
authors = ["Daniel Lynch <developer@empathyfirstmedia.com>"]
channels = ["conda-forge", "https://prefix.dev/conda-forge", "pytorch", "nvidia", "bioconda", "nodefaults"]
name = "polyglot-developer-environment"
platforms = ["osx-arm64", "linux-64", "osx-64"]
version = "0.1.0"
description = "Comprehensive polyglot development environment with ML, FEA, and enterprise tooling"

# Feature flags for programming languages and ecosystems

# Python Ecosystem
[feature.python-core]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = {
  python = ">=3.12.0,<3.13",
  pip = ">=24.0.0",
  setuptools = ">=69.0.0",
  wheel = ">=0.42.0",
  virtualenv = ">=20.25.0",
  poetry = ">=1.8.0",
  rye = ">=0.20.0"
}

[feature.python-ml]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge", "pytorch", "nvidia"]
dependencies = {
  pytorch = ">=2.2.0,<3",
  torchvision = ">=0.17.0,<1",
  torchaudio = ">=2.2.0,<3",
  tensorflow = ">=2.16.0,<3",
  jax = ">=0.4.0,<1",
  flax = ">=0.8.0,<1",
  transformers = ">=4.38.0,<5",
  datasets = ">=2.18.0,<3",
  accelerate = ">=0.28.0,<1",
  scikit-learn = ">=1.4.0,<2",
  xgboost = ">=2.0.0,<3",
  lightgbm = ">=4.3.0,<5",
  catboost = ">=1.2.0,<2",
  optuna = ">=3.5.0,<4",
  mlflow = ">=2.11.0,<3",
  dvc = ">=3.49.0,<4",
  wandb = ">=0.16.0,<1",
  comet-ml = ">=3.41.0,<4",
  neptune = ">=1.9.0,<2"
}

[feature.python-ai]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = {
  pydantic = ">=2.6.0,<3",
  pydantic-settings = ">=2.2.0,<3",
  fastapi = ">=0.109.0,<1",
  uvicorn = ">=0.27.0,<1",
  langchain = ">=0.1.0,<1",
  langchain-community = ">=0.0.13,<1",
  langchain-openai = ">=0.0.8,<1",
  llama-index = ">=0.9.0,<1",
  crewai = ">=0.22.0,<1",
  autogen = ">=0.2.0,<1",
  openai = ">=1.12.0,<2",
  anthropic = ">=0.21.0,<1",
  groq = ">=0.4.0,<1",
  cohere = ">=5.2.0,<6",
  replicate = ">=0.25.0,<1",
  huggingface-hub = ">=0.20.0,<1",
  sentence-transformers = ">=2.6.0,<3",
  chromadb = ">=0.4.0,<1",
  faiss-cpu = ">=1.7.0,<2",
  pinecone-client = ">=3.0.0,<4",
  weaviate-client = ">=4.5.0,<5"
}

[feature.python-data]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = {
  pandas = ">=2.2.0,<3",
  polars = ">=0.20.0,<1",
  numpy = ">=1.26.0,<2",
  scipy = ">=1.12.0,<2",
  matplotlib = ">=3.8.0,<4",
  seaborn = ">=0.13.0,<1",
  plotly = ">=5.18.0,<6",
  altair = ">=5.2.0,<6",
  bokeh = ">=3.3.0,<4",
  streamlit = ">=1.29.0,<2",
  gradio = ">=4.15.0,<5",
  jupyter = ">=1.0.0,<2",
  jupyterlab = ">=4.1.0,<5",
  notebook = ">=7.1.0,<8",
  ipykernel = ">=6.27.0,<7",
  ipywidgets = ">=8.1.0,<9"
}

# Rust Ecosystem
[feature.rust-core]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = {
  rust = ">=1.75.0,<1.76",
  cargo = ">=1.75.0,<1.76",
  rustup = ">=1.26.0,<2",
  rustfmt = ">=1.6.0,<2",
  clippy = ">=0.1.75,<0.2"
}

[feature.rust-tools]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = {
  wasm-pack = ">=0.12.0,<1",
  trunk = ">=0.18.0,<1",
  cargo-edit = ">=0.12.0,<1",
  cargo-watch = ">=8.4.0,<9",
  cargo-tarpaulin = ">=0.27.0,<1",
  cargo-audit = ">=0.18.0,<1",
  cargo-deny = ">=0.14.0,<1",
  cargo-outdated = ">=0.15.0,<1",
  cargo-tree = ">=0.16.0,<1",
  cargo-geiger = ">=0.11.0,<1",
  diesel-cli = ">=2.1.0,<3"
}

# Node.js Ecosystem
[feature.nodejs-core]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = {
  nodejs = ">=20.10.0,<21",
  npm = ">=10.2.0,<11",
  yarn = ">=1.22.0,<2",
  pnpm = ">=8.15.0,<9",
  nvm = ">=0.39.0,<1",
  bun = ">=1.0.0,<2"
}

[feature.nodejs-tools]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = {
  typescript = ">=5.3.0,<6",
  eslint = ">=8.55.0,<9",
  prettier = ">=3.1.0,<4",
  webpack = ">=5.89.0,<6",
  vite = ">=5.0.0,<6",
  rollup = ">=4.9.0,<5",
  parcel = ">=2.10.0,<3",
  nx = ">=17.2.0,<18",
  turbo = ">=1.11.0,<2",
  lerna = ">=8.0.0,<9",
  husky = ">=8.0.0,<9",
  commitlint = ">=18.4.0,<19",
  semantic-release = ">=22.0.0,<23"
}

# Java Ecosystem
[feature.java-core]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = {
  openjdk = ">=21.0.0,<22",
  maven = ">=3.9.0,<4",
  gradle = ">=8.5.0,<9",
  kotlin = ">=1.9.0,<2",
  scala = ">=3.3.0,<4",
  groovy = ">=4.0.0,<5",
  ant = ">=1.10.0,<2"
}

[feature.java-tools]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = {
  spring-boot-cli = ">=3.2.0,<4",
  micronaut = ">=4.2.0,<5",
  quarkus-cli = ">=3.6.0,<4",
  jib = ">=3.4.0,<4",
  spotbugs = ">=4.8.0,<5",
  checkstyle = ">=10.12.0,<11",
  pmd = ">=7.0.0,<8",
  jacoco = ">=0.8.0,<1",
  pitest = ">=1.15.0,<2",
  jmeter = ">=5.6.0,<6",
  jprofiler = ">=14.0.0,<15"
}

# Go Ecosystem
[feature.go-core]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = {
  go = ">=1.21.0,<1.22",
  gopls = ">=0.14.0,<1",
  delve = ">=1.21.0,<2",
  golangci-lint = ">=1.55.0,<2",
  goreleaser = ">=1.24.0,<2",
  cobra-cli = ">=1.3.0,<2"
}

# C/C++ Ecosystem
[feature.cpp-core]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = {
  gcc = ">=13.2.0,<14",
  gxx = ">=13.2.0,<14",
  clang = ">=17.0.0,<18",
  clang-tools-extra = ">=17.0.0,<18",
  cmake = ">=3.28.0,<4",
  ninja = ">=1.11.0,<2",
  conan = ">=2.0.0,<3",
  vcpkg = ">=2023.11.20,<2024",
  meson = ">=1.3.0,<2",
  pkg-config = ">=0.29.0,<1"
}

[feature.cpp-libs]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = {
  boost = ">=1.83.0,<2",
  eigen = ">=3.4.0,<4",
  opencv = ">=4.9.0,<5",
  pcl = ">=1.13.0,<2",
  vtk = ">=9.3.0,<10",
  qt6 = ">=6.6.0,<7",
  tbb = ">=2021.10.0,<2022",
  openmpi = ">=4.1.0,<5",
  hdf5 = ">=1.14.0,<2",
  netcdf4 = ">=4.9.0,<5"
}

# FEA (Finite Element Analysis) - keeping original but expanding
[feature.fea-core]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = { fenics = ">=2019.1.0", dealii = ">=9.5.0", mfem = ">=4.6.0", libmesh = ">=1.8.0", getfem = ">=5.4.0" }

[feature.fea-meshing]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = { gmsh = ">=4.11.0", tetgen = ">=1.6.0", netgen = ">=6.2.0" }

[feature.fea-visualization]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = {
  pyvista = ">=0.42.0",
  mayavi = ">=4.8.0",
  paraview = ">=5.11.0",
  matplotlib = ">=3.8.0",
  plotly = ">=5.15.0"
}

[feature.fea-optimization]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = {
  pyomo = ">=6.7.0",
  nlopt = ">=2.7.0",
  openmdao = ">=3.30.0",
  scipy = ">=1.11.0"
}

[feature.fea-ml]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge", "pytorch", "nvidia"]
dependencies = {
  scikit-learn = ">=1.4.0,<2",
  pytorch = ">=2.1.0,<3",
  tensorflow = ">=2.15.0,<3",
  xgboost = ">=2.0.0,<3",
  lightgbm = ">=4.0.0,<5"
}

[feature.fea-materials]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = {
  pymatgen = ">=2023.12.0",
  ase = ">=3.22.0",
  spglib = ">=2.2.0",
  matminer = ">=0.9.0"
}

[feature.fea-thermal]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = {
  scikit-fem = ">=8.0.0",
  firedrake = ">=0.13.0",
  netcdf4 = ">=1.6.0",
  xarray = ">=2023.12.0"
}

[feature.fea-fluids]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = {
  fenics = ">=2019.1.0",
  dolfin-adjoint = ">=2019.1.0",
  petsc = ">=3.19.0",
  slepc = ">=3.19.0"
}

[feature.fea-structural]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = {
  code-aster = ">=15.0",
  calculix = ">=2.20",
  getfem = ">=5.4.0"
}

[feature.fea-multiphysics]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = {
  moose = ">=2023.0",
  mfront = ">=4.0.0",
  salome = ">=9.10.0",
  code-aster = ">=15.0",
  calculix = ">=2.20"
}

# Database Ecosystem
[feature.database-core]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = {
  postgresql = ">=16.0,<17",
  mysql = ">=8.2,<9",
  sqlite = ">=3.44,<4",
  redis = ">=7.2,<8",
  mongodb = ">=7.0,<8",
  neo4j = ">=5.18,<6",
  qdrant-client = ">=1.7,<2"
}

[feature.database-tools]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = {
  pgcli = ">=4.0,<5",
  mycli = ">=1.27,<2",
  litecli = ">=1.9,<2",
  redis-cli = ">=7.2,<8",
  mongosh = ">=2.1,<3",
  neo4j-admin = ">=5.18,<6",
  prisma = ">=5.7,<6",
  drizzle-kit = ">=0.19,<1",
  alembic = ">=1.13,<2",
  flyway = ">=9.22,<10",
  liquibase = ">=4.24,<5"
}

# Cloud and DevOps Tools
[feature.cloud-core]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = {
  awscli = ">=2.15,<3",
  azure-cli = ">=2.56,<3",
  google-cloud-sdk = ">=464.0,<465",
  terraform = ">=1.6,<2",
  ansible = ">=9.0,<10",
  docker = ">=24.0,<25",
  docker-compose = ">=2.24,<3",
  kubectl = ">=1.29,<2",
  helm = ">=3.14,<4",
  kustomize = ">=5.3,<6",
  argocd = ">=2.9,<3",
  flux = ">=2.2,<3"
}

[feature.cloud-ai]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = {
  sagemaker-python-sdk = ">=2.200,<3",
  azure-ai-ml = ">=1.14,<2",
  google-cloud-aiplatform = ">=1.43,<2",
  vertexai = ">=1.43,<2",
  azure-openai = ">=1.13,<2",
  boto3 = ">=1.34,<2"
}

# MCP (Model Context Protocol) Ecosystem
[feature.mcp-core]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = {
  nodejs = ">=20.10,<21",
  npm = ">=10.2,<11",
  python = ">=3.12,<3.13",
  pip = ">=24.0,<25"
}

[feature.mcp-servers]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = {
  tavily-python = ">=0.3,<1",
  exa-py = ">=1.0,<2",
  firecrawl-py = ">=0.0.10,<1",
  langchain = ">=0.1,<1",
  llama-index = ">=0.9,<1",
  openai = ">=1.12,<2",
  anthropic = ">=0.21,<1",
  groq = ">=0.4,<1",
  cohere = ">=5.2,<6",
  replicate = ">=0.25,<1",
  huggingface-hub = ">=0.20,<1",
  sentence-transformers = ">=2.6,<3",
  chromadb = ">=0.4,<1",
  faiss-cpu = ">=1.7,<2",
  pinecone-client = ">=3.0,<4",
  weaviate-client = ">=4.5,<5",
  qdrant-client = ">=1.7,<2",
  neo4j = ">=5.18,<6"
}

# Development and Productivity Tools
[feature.dev-tools]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = {
  git = ">=2.43,<3",
  gh = ">=2.40,<3",
  git-lfs = ">=3.4,<4",
  lazygit = ">=0.40,<1",
  tmux = ">=3.4,<4",
  neovim = ">=0.9,<1",
  vim = ">=9.0,<10",
  emacs = ">=29.1,<30",
  vscode = ">=1.85,<2",
  cursor = ">=0.30,<1",
  zsh = ">=5.9,<6",
  fish = ">=3.7,<4",
  starship = ">=1.17,<2",
  oh-my-zsh = ">=2023.12.0",
  fzf = ">=0.45,<1",
  ripgrep = ">=14.0,<15",
  fd = ">=9.0,<10",
  bat = ">=0.24,<1",
  exa = ">=0.10,<1",
  zoxide = ">=0.9,<1",
  delta = ">=0.16,<1",
  difftastic = ">=0.55,<1",
  hyperfine = ">=1.18,<2",
  tokei = ">=12.1,<13",
  onefetch = ">=2.19,<3",
  zellij = ">=0.39,<1",
  wezterm = ">=20230712,<20230801",
  alacritty = ">=0.13,<1"
}

# Security and Compliance Tools
[feature.security]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = {
  openssh = ">=9.6,<10",
  openssl = ">=3.2,<4",
  gpg = ">=2.4,<3",
  age = ">=1.1,<2",
  sops = ">=3.8,<4",
  trivy = ">=0.48,<1",
  grype = ">=0.74,<1",
  syft = ">=0.105,<1",
  kube-bench = ">=0.7,<1",
  falco = ">=0.36,<1",
  clair = ">=4.7,<1",
  owasp-zap = ">=2.14,<3",
  sqlmap = ">=1.8,<2",
  nikto = ">=2.5,<3",
  nmap = ">=7.94,<8",
  wireshark = ">=4.2,<5",
  tcpdump = ">=4.99,<5"
}

# Monitoring and Observability
[feature.monitoring]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = {
  prometheus = ">=2.48,<3",
  grafana = ">=10.2,<11",
  loki = ">=2.9,<3",
  tempo = ">=2.4,<3",
  mimir = ">=2.11,<3",
  jaeger = ">=1.51,<2",
  opentelemetry-collector = ">=0.92,<1",
  fluent-bit = ">=2.2,<3",
  vector = ">=0.35,<1",
  datadog-agent = ">=7.50,<8",
  newrelic-cli = ">=0.75,<1",
  sentry-cli = ">=2.21,<3"
}

# Testing and Quality Assurance
[feature.testing]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = {
  pytest = ">=8.0,<9",
  pytest-cov = ">=4.1,<5",
  pytest-xdist = ">=3.5,<4",
  pytest-benchmark = ">=4.0,<5",
  hypothesis = ">=6.97,<7",
  tox = ">=4.12,<5",
  nox = ">=2024.3,<2025",
  coverage = ">=7.4,<8",
  radon = ">=6.0,<7",
  mccabe = ">=0.7,<1",
  flake8 = ">=6.1,<7",
  black = ">=23.12,<24",
  isort = ">=5.13,<6",
  mypy = ">=1.8,<2",
  pylint = ">=3.0,<4",
  bandit = ">=1.7,<2",
  safety = ">=2.4,<3",
  pip-audit = ">=2.7,<3",
  cargo-audit = ">=0.18,<1",
  npm-audit = ">=10.2,<11"
}

# Documentation and Content Creation
[feature.documentation]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = {
  mkdocs = ">=1.5,<2",
  mkdocs-material = ">=9.4,<10",
  sphinx = ">=7.2,<8",
  jupyter-book = ">=1.0,<2",
  quarto = ">=1.3,<2",
  pandoc = ">=3.1,<4",
  texlive-core = ">=2023.0,<2024",
  mermaid-cli = ">=10.6,<11",
  drawio = ">=22.1,<23",
  obsidian = ">=1.5,<2",
  zettlr = ">=3.0,<4",
  typora = ">=1.7,<2",
  notion = ">=2.0,<3"
}

# Research and Academic Tools
[feature.research]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge", "bioconda"]
dependencies = {
  r-base = ">=4.3,<5",
  rstudio = ">=2023.12,<2024",
  jupyter-r = ">=0.3,<1",
  matlab = ">=2023b,<2024a",
  octave = ">=9.0,<10",
  sage = ">=10.2,<11",
  maxima = ">=5.47,<6",
  sympy = ">=1.12,<2",
  mathematica = ">=13.3,<14",
  maple = ">=2023,<2024",
  scilab = ">=2023.1,<2024",
  freemat = ">=4.2,<5"
}

[feature.mcp-core]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = {
  nodejs = ">=18.0.0",
  npm = ">=9.0.0"
}

[feature.mcp-research]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = {
  tavily-python = ">=0.3.0",
  exa-py = ">=1.0.0",
  firecrawl-py = ">=0.0.10"
}

[feature.mcp-ai]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = {
  langchain = ">=0.1.0",
  llama-index = ">=0.9.0",
  openai = ">=1.0.0",
  anthropic = ">=0.7.0"
}

[feature.database]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = {
  psycopg2 = ">=2.9.0",
  redis-py = ">=4.6.0",
  neo4j = ">=5.0.0",
  qdrant-client = ">=1.6.0"
}

[feature.development]
platforms = ["osx-arm64", "linux-64"]
channels = ["conda-forge"]
dependencies = {
  jupyter = ">=1.0.0",
  jupyterlab = ">=4.0.0",
  vscode = ">=1.80.0",
  git = ">=2.40.0",
  docker-compose = ">=2.20.0"
}

# Environment configurations - organized by programming language and use case
[environments]

# Python Environments
python-core = ["python-core"]
python-data-science = ["python-core", "python-data"]
python-ml-ai = ["python-core", "python-ml", "python-ai", "python-data"]
python-full = ["python-core", "python-ml", "python-ai", "python-data"]

# Rust Environments
rust-core = ["rust-core"]
rust-development = ["rust-core", "rust-tools"]
rust-webassembly = ["rust-core", "rust-tools", "nodejs-core"]

# Node.js Environments
nodejs-core = ["nodejs-core"]
nodejs-development = ["nodejs-core", "nodejs-tools"]
nodejs-fullstack = ["nodejs-core", "nodejs-tools", "database-core"]

# Java Environments
java-core = ["java-core"]
java-enterprise = ["java-core", "java-tools", "database-core"]
java-spring = ["java-core", "java-tools", "database-core"]
java-microservices = ["java-core", "java-tools", "database-core", "cloud-core"]

# Go Environments
go-core = ["go-core"]
go-microservices = ["go-core", "database-core", "cloud-core"]

# C/C++ Environments
cpp-core = ["cpp-core"]
cpp-development = ["cpp-core", "cpp-libs"]
cpp-fea = ["cpp-core", "cpp-libs", "fea-core", "fea-multiphysics"]

# FEA (Finite Element Analysis) Environments
fea-basic = ["python-core", "fea-core", "fea-meshing", "fea-visualization"]
fea-advanced = ["python-core", "python-ml", "fea-core", "fea-meshing", "fea-visualization", "fea-optimization", "fea-ml", "fea-materials"]
fea-multiphysics = ["python-core", "python-ml", "fea-core", "fea-meshing", "fea-visualization", "fea-thermal", "fea-fluids", "fea-structural", "fea-multiphysics"]
fea-full = ["python-core", "python-ml", "python-ai", "fea-core", "fea-meshing", "fea-visualization", "fea-optimization", "fea-ml", "fea-materials", "fea-thermal", "fea-fluids", "fea-structural", "fea-multiphysics"]

# Database Environments
database-core = ["database-core"]
database-development = ["database-core", "database-tools"]
database-analytics = ["database-core", "database-tools", "python-data"]

# Cloud and DevOps Environments
cloud-core = ["cloud-core"]
cloud-ai-ml = ["cloud-core", "cloud-ai", "python-ml", "python-ai"]
cloud-full = ["cloud-core", "cloud-ai", "database-core", "monitoring", "security"]

# MCP (Model Context Protocol) Environments
mcp-core = ["mcp-core"]
mcp-development = ["mcp-core", "mcp-servers", "python-ai", "database-core"]
mcp-research = ["mcp-core", "mcp-servers", "python-ml", "python-ai", "database-core"]
mcp-full = ["mcp-core", "mcp-servers", "python-ml", "python-ai", "database-core", "cloud-ai"]

# Development and Productivity Environments
dev-core = ["dev-tools"]
dev-full = ["dev-tools", "security", "testing", "documentation", "monitoring"]

# Research and Academic Environments
research-core = ["python-core", "python-data", "research"]
research-ml = ["python-core", "python-ml", "python-ai", "python-data", "research"]
research-fea = ["python-core", "python-ml", "python-data", "fea-advanced", "research"]

# Polyglot Development Environments (Multi-language)
polyglot-basic = ["python-core", "rust-core", "nodejs-core", "java-core", "go-core", "cpp-core", "database-core", "dev-tools"]
polyglot-development = ["python-core", "python-ml", "rust-core", "rust-tools", "nodejs-core", "nodejs-tools", "java-core", "java-tools", "go-core", "cpp-core", "cpp-libs", "database-core", "database-tools", "dev-tools", "testing"]
polyglot-research = ["python-core", "python-ml", "python-ai", "python-data", "rust-core", "nodejs-core", "java-core", "database-core", "database-tools", "mcp-core", "mcp-servers", "cloud-ai", "fea-advanced", "research", "dev-tools", "testing", "documentation"]
polyglot-enterprise = ["python-core", "python-ml", "python-ai", "rust-core", "rust-tools", "nodejs-core", "nodejs-tools", "java-core", "java-tools", "go-core", "cpp-core", "database-core", "database-tools", "cloud-core", "cloud-ai", "mcp-core", "mcp-servers", "dev-tools", "security", "testing", "monitoring", "documentation"]

# Specialized Environments
ai-research = ["python-core", "python-ml", "python-ai", "python-data", "mcp-servers", "database-core", "cloud-ai", "research"]
blockchain-dev = ["rust-core", "rust-tools", "nodejs-core", "go-core", "database-core"]
game-development = ["cpp-core", "cpp-libs", "rust-core", "python-core", "database-core"]
web-fullstack = ["nodejs-core", "nodejs-tools", "python-core", "database-core", "database-tools", "cloud-core"]
mobile-development = ["rust-core", "nodejs-core", "java-core", "go-core", "database-core"]
embedded-systems = ["cpp-core", "rust-core", "go-core", "python-core", "database-core"]
scientific-computing = ["python-core", "python-data", "cpp-core", "cpp-libs", "fortran", "r-base", "julia"]

# Legacy/Compatibility Environments (keeping original FEA environments for backward compatibility)
fea-legacy-basic = ["fea-core", "fea-meshing", "fea-visualization", "python-core"]
fea-legacy-advanced = ["fea-core", "fea-meshing", "fea-visualization", "fea-optimization", "fea-ml", "fea-materials", "python-core", "python-ml"]
fea-legacy-multiphysics = ["fea-core", "fea-meshing", "fea-visualization", "fea-thermal", "fea-fluids", "fea-structural", "fea-multiphysics", "python-core"]
research-legacy = ["fea-legacy-advanced", "mcp-core", "mcp-servers", "database-core", "python-core"]
full-legacy = ["fea-legacy-multiphysics", "mcp-core", "mcp-servers", "database-core", "python-core"]

# Global tasks - organized by language and functionality
[tasks]

# Environment activation tasks (organized by ecosystem)
# Python environments
activate-python-core = "pixi shell --environment python-core"
activate-python-ds = "pixi shell --environment python-data-science"
activate-python-ml = "pixi shell --environment python-ml-ai"
activate-python-full = "pixi shell --environment python-full"

# Rust environments
activate-rust-core = "pixi shell --environment rust-core"
activate-rust-dev = "pixi shell --environment rust-development"
activate-rust-wasm = "pixi shell --environment rust-webassembly"

# Node.js environments
activate-node-core = "pixi shell --environment nodejs-core"
activate-node-dev = "pixi shell --environment nodejs-development"
activate-node-fullstack = "pixi shell --environment nodejs-fullstack"

# Java environments
activate-java-core = "pixi shell --environment java-core"
activate-java-enterprise = "pixi shell --environment java-enterprise"
activate-java-spring = "pixi shell --environment java-spring"
activate-java-micro = "pixi shell --environment java-microservices"

# Go environments
activate-go-core = "pixi shell --environment go-core"
activate-go-micro = "pixi shell --environment go-microservices"

# C/C++ environments
activate-cpp-core = "pixi shell --environment cpp-core"
activate-cpp-dev = "pixi shell --environment cpp-development"
activate-cpp-fea = "pixi shell --environment cpp-fea"

# FEA environments
activate-fea-basic = "pixi shell --environment fea-basic"
activate-fea-advanced = "pixi shell --environment fea-advanced"
activate-fea-multi = "pixi shell --environment fea-multiphysics"
activate-fea-full = "pixi shell --environment fea-full"

# Database environments
activate-db-core = "pixi shell --environment database-core"
activate-db-dev = "pixi shell --environment database-development"
activate-db-analytics = "pixi shell --environment database-analytics"

# Cloud environments
activate-cloud-core = "pixi shell --environment cloud-core"
activate-cloud-ai = "pixi shell --environment cloud-ai-ml"
activate-cloud-full = "pixi shell --environment cloud-full"

# MCP environments
activate-mcp-core = "pixi shell --environment mcp-core"
activate-mcp-dev = "pixi shell --environment mcp-development"
activate-mcp-research = "pixi shell --environment mcp-research"
activate-mcp-full = "pixi shell --environment mcp-full"

# Polyglot environments
activate-polyglot-basic = "pixi shell --environment polyglot-basic"
activate-polyglot-dev = "pixi shell --environment polyglot-development"
activate-polyglot-research = "pixi shell --environment polyglot-research"
activate-polyglot-enterprise = "pixi shell --environment polyglot-enterprise"

# Specialized environments
activate-ai-research = "pixi shell --environment ai-research"
activate-blockchain = "pixi shell --environment blockchain-dev"
activate-game-dev = "pixi shell --environment game-development"
activate-web-fullstack = "pixi shell --environment web-fullstack"
activate-mobile = "pixi shell --environment mobile-development"
activate-embedded = "pixi shell --environment embedded-systems"
activate-scientific = "pixi shell --environment scientific-computing"

# Development and productivity
activate-dev-core = "pixi shell --environment dev-core"
activate-dev-full = "pixi shell --environment dev-full"

# Research environments
activate-research-core = "pixi shell --environment research-core"
activate-research-ml = "pixi shell --environment research-ml"
activate-research-fea = "pixi shell --environment research-fea"

# Legacy environments (backward compatibility)
activate-fea-legacy-basic = "pixi shell --environment fea-legacy-basic"
activate-fea-legacy-advanced = "pixi shell --environment fea-legacy-advanced"
activate-fea-legacy-multi = "pixi shell --environment fea-legacy-multiphysics"
activate-research-legacy = "pixi shell --environment research-legacy"
activate-full-legacy = "pixi shell --environment full-legacy"

# Language-specific development tasks
# Python tasks
python-install = "pip install --upgrade pip setuptools wheel"
python-clean = "pip cache purge && rm -rf __pycache__ *.pyc *.pyo"
python-test = "python -m pytest --version && python -c 'import numpy, scipy, matplotlib, torch, pydantic; print(\"Python ML/AI stack ready\")'"
python-jupyter = "jupyter lab --version && jupyter notebook --version"

# Rust tasks
rust-install = "rustup update && cargo --version && rustc --version"
rust-clean = "cargo clean && rm -rf target/"
rust-test = "cargo test --lib --bins --examples --tests --benches"
rust-build = "cargo build --release"
rust-check = "cargo check && cargo clippy && cargo fmt --check"

# Node.js tasks
node-install = "npm install -g npm@latest && npm cache clean --force"
node-clean = "rm -rf node_modules package-lock.json yarn.lock pnpm-lock.yaml && npm cache clean --force"
node-test = "npm test || yarn test || pnpm test"
node-build = "npm run build || yarn build || pnpm build"
node-dev = "npm run dev || yarn dev || pnpm dev"

# Java tasks
java-install = "mvn --version && gradle --version"
java-clean = "mvn clean || gradle clean"
java-test = "mvn test || gradle test"
java-build = "mvn package || gradle build"
java-run = "mvn spring-boot:run || gradle bootRun"

# Go tasks
go-install = "go version && go mod tidy"
go-clean = "go clean -cache -testcache -modcache"
go-test = "go test ./..."
go-build = "go build ./..."
go-mod = "go mod download && go mod verify"

# C/C++ tasks
cpp-install = "gcc --version && g++ --version && clang --version"
cpp-clean = "rm -rf build/ cmake-build-*/"
cpp-configure = "cmake -S . -B build -DCMAKE_BUILD_TYPE=Release"
cpp-build = "cmake --build build --config Release"
cpp-test = "cd build && ctest --output-on-failure"

# Database tasks
db-postgres-start = "pg_ctl -D /usr/local/var/postgres start || brew services start postgresql"
db-postgres-stop = "pg_ctl -D /usr/local/var/postgres stop || brew services stop postgresql"
db-redis-start = "redis-server --daemonize yes || brew services start redis"
db-redis-stop = "redis-cli shutdown || brew services stop redis"
db-neo4j-start = "neo4j start"
db-neo4j-stop = "neo4j stop"

# Qdrant tasks
qdrant-start = "docker run -d -p 6333:6333 -v qdrant_storage:/qdrant/storage qdrant/qdrant"
qdrant-stop = "docker stop $(docker ps -q --filter ancestor=qdrant/qdrant)"
qdrant-health = "curl http://localhost:6333/health"

# MCP management tasks
mcp-init = "python scripts/init_mcp_servers.py"
mcp-start = "./scripts/start_mcp_servers.sh || ./mcp_servers_start.sh"
mcp-stop = "pkill -f 'npx.*@modelcontextprotocol' || pkill -f 'python.*mcp' || true"
mcp-status = "pgrep -f 'npx.*@modelcontextprotocol' || pgrep -f 'python.*mcp' || echo 'No MCP servers running'"

# FEA workflow tasks
fea-mesh = "gmsh --version && python scripts/fea_solver.py --mesh"
fea-solve = "python scripts/fea_solver.py --solve"
fea-visualize = "python scripts/fea_visualize.py"
fea-optimize = "python scripts/fea_optimize.py"
fea-workflow = "pixi run fea-mesh && pixi run fea-solve && pixi run fea-visualize"

# Machine Learning tasks
ml-train = "python -c 'import torch, transformers, sklearn; print(\"ML libraries ready\")'"
ml-inference = "python scripts/ml_inference.py"
ml-benchmark = "python scripts/ml_benchmark.py"
ml-research = "pixi run ml-train && pixi run ml-benchmark"

# Research and analysis tasks
research-sequential = "python -c 'from sequential_thinking import SequentialThinking; print(\"Sequential thinking ready\")'"
research-ollama = "ollama list && ollama serve"
research-analysis = "python scripts/research_analysis.py"
research-workflow = "pixi run research-sequential && pixi run research-ollama && pixi run research-analysis"

# Cache clearing tasks
cache-clear-all = """
pip cache purge &&
npm cache clean --force &&
yarn cache clean &&
pnpm store prune &&
cargo cache -a &&
go clean -cache -testcache -modcache &&
mvn dependency:purge-local-repository ||
gradle clean &&
docker system prune -f &&
echo 'All caches cleared'
"""

# Service management tasks
services-start = "docker-compose -f docker-compose.services.yml up -d"
services-stop = "docker-compose -f docker-compose.services.yml down"
services-status = "docker-compose -f docker-compose.services.yml ps"

# Complete setup tasks
setup-basic = """
pixi run cache-clear-all &&
pixi run python-install &&
pixi run node-install &&
pixi run rust-install &&
echo 'Basic setup complete!'
"""

setup-development = """
pixi run setup-basic &&
pixi run java-install &&
pixi run go-install &&
pixi run cpp-install &&
pixi run db-postgres-start &&
pixi run db-redis-start &&
echo 'Development setup complete!'
"""

setup-research = """
pixi run setup-development &&
pixi run mcp-init &&
pixi run services-start &&
pixi run mcp-start &&
pixi run research-ollama &&
echo 'Research setup complete!'
"""

setup-enterprise = """
pixi run setup-research &&
pixi run db-neo4j-start &&
pixi run qdrant-start &&
pixi run cloud-core &&
echo 'Enterprise setup complete!'
"""

# Teardown tasks
teardown-basic = """
pixi run mcp-stop &&
pixi run services-stop &&
echo 'Basic teardown complete!'
"""

teardown-full = """
pixi run teardown-basic &&
pixi run db-postgres-stop &&
pixi run db-redis-stop &&
pixi run db-neo4j-stop &&
pixi run qdrant-stop &&
pixi run cache-clear-all &&
echo 'Full teardown complete!'
"""

# Main entry point
start = """
echo 'üöÄ Polyglot Development Environment Starting...' &&
pixi run setup-research &&
echo '‚úÖ Polyglot Environment Ready!' &&
echo 'Available environments:' &&
echo '  - polyglot-basic: Core languages (Python, Rust, Node.js, Java, Go, C++)' &&
echo '  - polyglot-development: Full development stack' &&
echo '  - polyglot-research: Research with MCP servers' &&
echo '  - polyglot-enterprise: Complete enterprise setup' &&
echo '' &&
echo 'Use: pixi shell --environment <environment-name>' &&
echo 'Example: pixi shell --environment polyglot-research'
"""

# Status and diagnostics
status = """
echo 'üîç Environment Status:' &&
echo 'Python:' && python --version &&
echo 'Node.js:' && node --version &&
echo 'Rust:' && rustc --version &&
echo 'Java:' && java --version &&
echo 'Go:' && go version &&
echo 'Databases:' &&
pg_isready -h localhost -p 5432 && echo 'PostgreSQL: ‚úÖ' || echo 'PostgreSQL: ‚ùå' &&
redis-cli ping && echo 'Redis: ‚úÖ' || echo 'Redis: ‚ùå' &&
curl -s http://localhost:7474 && echo 'Neo4j: ‚úÖ' || echo 'Neo4j: ‚ùå' &&
curl -s http://localhost:6333/health && echo 'Qdrant: ‚úÖ' || echo 'Qdrant: ‚ùå' &&
echo 'MCP Servers:' && pixi run mcp-status
"""

# Health check
health = """
echo 'üè• Health Check:' &&
python -c 'import torch, transformers, pydantic; print("ML/AI: ‚úÖ")' 2>/dev/null || echo 'ML/AI: ‚ùå' &&
npm --version >/dev/null && echo 'Node.js: ‚úÖ' || echo 'Node.js: ‚ùå' &&
cargo --version >/dev/null && echo 'Rust: ‚úÖ' || echo 'Rust: ‚ùå' &&
mvn --version >/dev/null && echo 'Maven: ‚úÖ' || echo 'Maven: ‚ùå' &&
go version >/dev/null && echo 'Go: ‚úÖ' || echo 'Go: ‚ùå' &&
gcc --version >/dev/null && echo 'GCC: ‚úÖ' || echo 'GCC: ‚ùå' &&
echo 'Services:' &&
curl -s http://localhost:6333/health >/dev/null && echo 'Qdrant: ‚úÖ' || echo 'Qdrant: ‚ùå' &&
curl -s http://localhost:7474 >/dev/null && echo 'Neo4j: ‚úÖ' || echo 'Neo4j: ‚ùå'
"""